{"ast":null,"code":"var _jsxFileName = \"/home/mirsahib/Desktop/Simple-Comment/frontend/src/component/comments.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { getComments as getCommentsApi } from \"../api\";\nimport Comment from './comment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Comments(_ref) {\n  _s();\n\n  let {\n    currentUserId\n  } = _ref;\n  const [backendComments, setBackendComments] = useState([]);\n  useEffect(() => {\n    getCommentsApi().then(data => {\n      setBackendComments(data);\n    });\n  }, []);\n  const rootComments = backendComments.filter(item => {\n    return item.parentId === null;\n  });\n\n  const getReplise = commentId => {\n    return backendComments.filter(item => {\n      return item.parentId === commentId;\n    }).sort((a, b) => {\n      return new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime();\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comments\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"comments-title\",\n      children: \"Comments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments-container\",\n      children: rootComments.map(item => {\n        return /*#__PURE__*/_jsxDEV(Comment, {\n          commentBody: item,\n          replies: getReplise(item.id)\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 29\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Comments, \"23vm/fJ3aURT62Wfx46222koTOY=\");\n\n_c = Comments;\nexport default Comments;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comments\");","map":{"version":3,"sources":["/home/mirsahib/Desktop/Simple-Comment/frontend/src/component/comments.tsx"],"names":["useEffect","useState","getComments","getCommentsApi","Comment","Comments","currentUserId","backendComments","setBackendComments","then","data","rootComments","filter","item","parentId","getReplise","commentId","sort","a","b","Date","createdAt","getTime","map","id"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAAQC,WAAW,IAAIC,cAAvB,QAA4C,QAA5C;AACA,OAAOC,OAAP,MAAoB,WAApB;;;AAeA,SAASC,QAAT,OAAgD;AAAA;;AAAA,MAA9B;AAACC,IAAAA;AAAD,GAA8B;AAC5C,QAAM,CAACC,eAAD,EAAiBC,kBAAjB,IAAuCP,QAAQ,CAAc,EAAd,CAArD;AACAD,EAAAA,SAAS,CAAC,MAAI;AACVG,IAAAA,cAAc,GAAGM,IAAjB,CAAsBC,IAAI,IAAE;AACxBF,MAAAA,kBAAkB,CAACE,IAAD,CAAlB;AACH,KAFD;AAGH,GAJQ,EAIP,EAJO,CAAT;AAMA,QAAMC,YAAY,GAAGJ,eAAe,CAACK,MAAhB,CAAuBC,IAAI,IAAE;AAC9C,WAAOA,IAAI,CAACC,QAAL,KAAgB,IAAvB;AACH,GAFoB,CAArB;;AAIA,QAAMC,UAAU,GAAIC,SAAD,IAAoB;AACnC,WAAOT,eAAe,CAACK,MAAhB,CAAuBC,IAAI,IAAE;AAChC,aAAOA,IAAI,CAACC,QAAL,KAAgBE,SAAvB;AACH,KAFM,EAEJC,IAFI,CAEC,CAACC,CAAD,EAAGC,CAAH,KAAO;AACX,aAAO,IAAIC,IAAJ,CAASF,CAAC,CAACG,SAAX,EAAsBC,OAAtB,KAAiC,IAAIF,IAAJ,CAASD,CAAC,CAACE,SAAX,EAAsBC,OAAtB,EAAxC;AACH,KAJM,CAAP;AAKH,GAND;;AAQA,sBACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA,4BACI;AAAI,MAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA,gBAEQX,YAAY,CAACY,GAAb,CAAiBV,IAAI,IAAE;AACnB,4BACI,QAAC,OAAD;AAAuB,UAAA,WAAW,EAAEA,IAApC;AAA0C,UAAA,OAAO,EAAEE,UAAU,CAACF,IAAI,CAACW,EAAN;AAA7D,WAAcX,IAAI,CAACW,EAAnB;AAAA;AAAA;AAAA;AAAA,gBADJ;AAGH,OAJD;AAFR;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAcH;;GAlCQnB,Q;;KAAAA,Q;AAoCT,eAAeA,QAAf","sourcesContent":["import { useEffect, useState } from \"react\"\nimport {getComments as getCommentsApi} from \"../api\"\nimport Comment from './comment'\n\ninterface CommentsProps{\n    currentUserId:string\n}\n\nexport interface IComments{\n    id:string,\n    body: string,\n    username: string,\n    userId: string,\n    parentId: string|null,\n    createdAt: string,\n}\n\nfunction Comments({currentUserId}:CommentsProps){\n    const [backendComments,setBackendComments] = useState<IComments[]>([])\n    useEffect(()=>{\n        getCommentsApi().then(data=>{\n            setBackendComments(data)\n        })\n    },[])\n\n    const rootComments = backendComments.filter(item=>{\n        return item.parentId===null\n    })\n\n    const getReplise = (commentId:string)=>{\n        return backendComments.filter(item=>{\n            return item.parentId===commentId\n        }).sort((a,b)=>{\n            return new Date(a.createdAt).getTime()- new Date(b.createdAt).getTime()\n        })\n    }\n\n    return (\n        <div className=\"comments\">\n            <h3 className=\"comments-title\">Comments</h3>\n            <div className=\"comments-container\">\n                {\n                    rootComments.map(item=>{\n                        return(\n                            <Comment key={item.id} commentBody={item} replies={getReplise(item.id)}/>\n                        )\n                    })\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Comments"]},"metadata":{},"sourceType":"module"}